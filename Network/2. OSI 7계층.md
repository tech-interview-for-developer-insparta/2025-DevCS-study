## 2. OSI 7계층

OSI(Open Systems Interconnection) 모델은 네트워크 통신 과정을 7단계로 나눈 참조 모델이다.  
서로 다른 시스템과 장치가 같은 규칙에 따라 통신할 수 있도록 정의되었다.  
각 계층은 **독립적인 역할**을 가지며, 상위 계층은 하위 계층의 기능을 기반으로 동작한다.

---

### 2.1 계층 구조

1. **Physical (물리 계층)**
   - 전송 매체와 관련된 물리적 요소 담당
   - 전기 신호, 광 신호, 무선 주파수 등 실제 데이터 전송
   - 장비 예시: 케이블, 허브, 리피터

2. **Data Link (데이터 링크 계층)**
   - 동일 네트워크 내에서 안정적인 전송 보장
   - 프레임 단위로 데이터 전달
   - MAC 주소 사용
   - 오류 검출 및 흐름 제어
   - 장비 예시: 스위치, 브리지

3. **Network (네트워크 계층)**
   - 다른 네트워크 간 데이터 전송 경로 결정 (라우팅)
   - IP 주소 사용
   - 패킷 단위 전송
   - 장비 예시: 라우터, L3 스위치

4. **Transport (전송 계층)**
   - 프로세스 간 신뢰성 있는 데이터 전송 담당
   - TCP(연결형), UDP(비연결형) 프로토콜 포함
   - 포트 번호를 통해 애플리케이션 구분
   - 기능: 오류 검출, 흐름 제어, 혼잡 제어

5. **Session (세션 계층)**
   - 통신 세션의 생성, 유지, 종료 담당
   - 애플리케이션 간 연결 상태 관리
   - 예시: API 호출 시 세션 유지, 원격 프레젠테이션 연결

6. **Presentation (표현 계층)**
   - 데이터의 인코딩/디코딩, 암호화/복호화, 압축 담당
   - 서로 다른 시스템 간 데이터 형식 차이를 해결
   - 예시: JPEG, MP3, TLS 암호화

7. **Application (응용 계층)**
   - 사용자가 직접 접하는 네트워크 서비스
   - HTTP, FTP, SMTP, DNS 등 응용 프로그램과 직접 연결
   - 장치 예시: 웹 브라우저, 메일 클라이언트

---

### 2.2 핵심 개념

- **캡슐화(Encapsulation)**  
  데이터가 상위 계층에서 하위 계층으로 내려갈 때, 각 계층의 헤더 정보가 붙는 과정  
  (예: 응용 계층 데이터 → TCP 세그먼트 → IP 패킷 → 이더넷 프레임 → 물리 신호)

- **역캡슐화(Decapsulation)**  
  수신 측에서 물리 계층부터 올라가면서 헤더를 제거하고 원래 데이터를 복원하는 과정

- **계층 분리의 장점**
  - 표준화된 통신 구조 제공
  - 문제 발생 시 계층별로 원인 추적 가능
  - 하위 계층을 변경해도 상위 계층에 영향이 최소화됨

---

### 2.3 요약

- **1~3계층**: 네트워크 인프라 (데이터가 "어떻게 이동하는가")
- **4계층**: 종단 간 통신 보장 (데이터가 "안정적으로 전달되는가")
- **5~7계층**: 애플리케이션 중심 (데이터가 "사용자에게 어떻게 보이는가")

