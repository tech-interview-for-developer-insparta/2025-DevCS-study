# TLS/SSL 이란?

## SSL과 TLS가 뭔가요?

인터넷에서 데이터를 주고받을 때, 원래는 그냥 평문(누구나 읽을 수 있는 텍스트)으로 전송되었습니다. 마치 엽서를 보내는 것처럼요. 누군가 중간에 가로채면 내용을 다 볼 수 있었죠.

SSL(Secure Sockets Layer)은 이런 문제를 해결하기 위해 넷스케이프(Netscape)라는 회사가 1995년에 만든 보안 프로토콜입니다. 데이터를 암호화해서 안전하게 주고받을 수 있게 만든 기술이죠.

TLS(Transport Layer Security)는 SSL의 업데이트 버전입니다. SSL 3.0 이후에 이름을 바꿔서 나온 것이 TLS 1.0입니다. 현재는 TLS 1.2와 TLS 1.3이 주로 사용됩니다.

> 쉽게 말하면: SSL은 구버전, TLS는 신버전입니다. 하지만 사람들이 "SSL"이라고 많이 부르기 때문에 보통 SSL/TLS를 같이 쓰거나 혼용해서 사용합니다.

---

## 왜 필요한가요?

주소창에 `https://`로 시작하는 사이트를 본 적 있나요? 이게 바로 TLS/SSL이 적용된 사이트입니다.

TLS/SSL은 세 가지를 보장합니다:
1. **기밀성**: 내가 보낸 데이터를 다른 사람이 못 읽게 암호화
2. **무결성**: 데이터가 중간에 변조되지 않았는지 확인
3. **인증**: 내가 접속한 사이트가 진짜 그 사이트가 맞는지 확인

---

## 암호화 방식 - 두 가지 열쇠

TLS/SSL은 두 가지 종류의 암호화를 함께 사용합니다.

### 1. 대칭키 암호화 - 같은 열쇠로 잠그고 열기

하나의 열쇠로 문을 잠그고, 같은 열쇠로 여는 방식입니다.

**장점**: 빠르다  
**단점**: 열쇠를 어떻게 안전하게 전달할까?

**예시**: 
```
평문: "안녕하세요"
대칭키: "abc123"
암호문: "X9#kL@p2"
```

대표적인 알고리즘: **AES**

### 2. 공개키 암호화 - 서로 다른 열쇠 한 쌍

두 개의 열쇠(공개키, 개인키)를 사용합니다.
- **공개키**: 누구나 볼 수 있는 열쇠. 이걸로 문을 잠급니다.
- **개인키**: 나만 가진 열쇠. 이걸로만 문을 열 수 있습니다.

**장점**: 공개키는 공개해도 안전  
**단점**: 느리다

**예시**:
```
친구가 내 공개키로 메시지를 암호화 → 나만 내 개인키로 복호화 가능
```

대표적인 알고리즘: **RSA**

### 두 방식을 함께 사용하는 이유

TLS/SSL은 이 두 가지를 조합합니다:
1. **공개키 암호화로 대칭키를 안전하게 교환** (느리지만 안전)
2. **대칭키 암호화로 실제 데이터를 주고받음** (빠르고 효율적)

---

## SSL 인증서란?

SSL 인증서는 **웹사이트의 신분증**이라고 생각하면 됩니다.

### 인증서에 들어있는 정보
- 도메인 이름 (예: www.naver.com)
- 회사 정보
- 공개키
- 유효 기간
- 발급 기관(CA)의 서명

### CA (인증 기관)

CA는 Certificate Authority의 약자로, 인증서를 발급해주는 믿을 수 있는 기관입니다.

대표적인 CA:
- Let's Encrypt (무료)
- DigiCert
- GlobalSign

브라우저는 이미 신뢰할 수 있는 CA 목록을 가지고 있어서, 그 CA가 발급한 인증서만 신뢰합니다.

---
<img width="2918" height="1667" alt="tls-ssl-handshake" src="https://github.com/user-attachments/assets/9f0f99ef-1f6e-4924-9080-9237599f7c7a" />


## TLS 핸드셰이크 - 처음 만날 때 하는 인사

처음 웹사이트에 접속하면, 클라이언트(브라우저)와 서버가 서로 인사를 나눕니다. 이걸 **핸드셰이크**라고 합니다.

### 핸드셰이크 과정 (간단 버전)

```
1. 클라이언트: "안녕! 나는 이런 암호화 방식들을 지원해"
   
2. 서버: "안녕! 나는 이 인증서를 가지고 있고, 이 암호화 방식을 쓸게"
   
3. 클라이언트: "인증서 확인했어. 이제 비밀 키를 만들어서 
                너의 공개키로 암호화해서 보낼게"
   
4. 서버: "받았어! 내 개인키로 복호화했어"
   
5. 양쪽: "이제 우리만 아는 대칭키가 생겼네! 
          이걸로 앞으로 통신하자"
          
6. 이후 모든 데이터는 대칭키로 암호화해서 주고받음
```

### 좀 더 자세한 단계

1. **ClientHello**: 클라이언트가 지원하는 TLS 버전, 암호화 방식 목록을 보냄
2. **ServerHello**: 서버가 사용할 TLS 버전, 암호화 방식을 선택
3. **Certificate**: 서버가 인증서를 보냄
4. **ClientKeyExchange**: 클라이언트가 생성한 비밀값을 서버의 공개키로 암호화해서 보냄
5. **세션 키 생성**: 양쪽이 같은 방법으로 세션 키(대칭키)를 생성
6. **Finished**: 양쪽이 세션 키로 암호화된 완료 메시지를 교환
7. **통신 시작**: 이제 세션 키로 데이터를 암호화해서 주고받음

---

## 실제로 어디에 사용되나요?

### HTTPS
- 웹사이트에서 가장 많이 사용
- URL이 `https://`로 시작
- 주소창에 자물쇠 아이콘이 보임

### 이메일
- Gmail, Outlook 등에서 이메일을 안전하게 보낼 때

### VPN
- 회사 네트워크에 안전하게 접속할 때

### 앱과 서버 통신
- 카카오톡, 인스타그램 같은 앱에서 서버와 데이터를 주고받을 때

---

## 인증서의 종류

### 적용되는 도메인 개수에 따라

**1. 단일 도메인 (Single Domain)**
- 하나의 도메인에만 적용
- 예: `www.example.com`

**2. 와일드카드 (Wildcard)**
- 하나의 도메인과 그 하위 도메인 모두 적용
- 예: `www.example.com`, `blog.example.com`, `shop.example.com`

**3. 멀티 도메인 (Multi Domain)**
- 여러 개의 서로 다른 도메인에 적용
- 예: `example.com`, `mysite.com`, `store.net`

### 검증 수준에 따라

**1. DV (Domain Validation) - 도메인 유효성 검사**
- 가장 기본적인 인증서
- 도메인 소유권만 확인
- 빠르고 저렴 (보통 무료~저렴)

**2. OV (Organization Validation) - 조직 유효성 검사**
- 회사나 조직의 실제 존재 여부를 확인
- 사업자 등록증 등을 제출해야 함
- DV보다 신뢰도가 높음

**3. EV (Extended Validation) - 확장 유효성 검사**
- 가장 엄격한 검증
- 회사의 법적 존재, 물리적 위치, 운영 상태 등을 모두 확인
- 주소창에 회사 이름이 표시됨
- 은행이나 금융 사이트에서 주로 사용

---

## 실습: 인증서 확인해보기

### 브라우저에서 확인하는 방법

1. 아무 `https://` 사이트 접속
2. 주소창 왼쪽의 자물쇠 아이콘 클릭
3. "연결이 안전함" 또는 "인증서" 클릭
4. 인증서 정보 확인 가능

### 확인할 수 있는 정보
- 발급 대상 (도메인)
- 발급 기관 (CA)
- 유효 기간
- 공개키 정보

---

## 핵심 정리

| 항목 | 내용 |
|------|------|
| **SSL/TLS란?** | 인터넷 통신을 암호화하는 보안 프로토콜 |
| **차이점** | SSL은 구버전, TLS는 신버전 (현재는 TLS 사용) |
| **암호화 방식** | 공개키 암호화(키 교환) + 대칭키 암호화(데이터 전송) |
| **인증서** | 웹사이트의 신분증, CA가 발급 |
| **핸드셰이크** | 처음 접속 시 암호화 키를 안전하게 교환하는 과정 |
| **HTTPS** | HTTP + TLS/SSL |

---

## 마치며

TLS/SSL은 우리가 매일 사용하는 인터넷을 안전하게 만들어주는 기술입니다. 로그인할 때, 쇼핑할 때, 메시지를 보낼 때 모두 이 기술이 우리의 정보를 지켜주고 있습니다.

웹사이트에 접속할 때 주소창에 자물쇠 아이콘이 있는지 꼭 확인하세요. 그게 바로 여러분의 데이터가 안전하게 암호화되고 있다는 신호입니다!
